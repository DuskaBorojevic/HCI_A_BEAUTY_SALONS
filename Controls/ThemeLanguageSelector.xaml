<UserControl x:Class="HCI_A.Controls.ThemeLanguageSelector"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" 
             d:DesignHeight="40" d:DesignWidth="100"
             Unloaded="UserControl_Unloaded">
    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
        <!-- Theme Button -->
        <Button x:Name="ThemeButton" Width="40" Height="40" Margin="5,0"
                Background="Transparent" BorderThickness="0"
                Cursor="Hand" ToolTip="{DynamicResource ChangeThemeTooltip}"
                Click="ThemeButton_Click">
            <TextBlock x:Name="ThemeIcon" Text="🎨" FontSize="18" Foreground="White"
                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
        </Button>

        <Popup x:Name="ThemePopup" PlacementTarget="{Binding ElementName=ThemeButton}"
               Placement="Bottom" StaysOpen="False" AllowsTransparency="True">
            <Border Background="{DynamicResource CardBrush}" 
                    BorderBrush="{DynamicResource BorderBrush}" 
                    BorderThickness="1" CornerRadius="8"
                    Width="150" Effect="{DynamicResource MaterialShadow}">
                <StackPanel>
                    <Button Content="{DynamicResource Light}" FontSize="14" Style="{StaticResource MenuButtonStyle}" Foreground="{DynamicResource TextBrush}" Margin="0, 4, 0, 4" Click="LightTheme_Click"/>
                    <Button Content="{DynamicResource Dark}" FontSize="14" Style="{StaticResource MenuButtonStyle}" Foreground="{DynamicResource TextBrush}" Margin="0, 4, 0, 4" Click="DarkTheme_Click"/>
                    <Button Content="{DynamicResource Neutral}" FontSize="14" Style="{StaticResource MenuButtonStyle}" Foreground="{DynamicResource TextBrush}" Margin="0, 4, 0, 4" Click="NeutralTheme_Click"/>
                </StackPanel>
            </Border>
        </Popup>

        <!-- Language Button -->
        <Button x:Name="LanguageButton" Width="40" Height="40" Margin="5,0"
                Background="Transparent" BorderThickness="0"
                Cursor="Hand" ToolTip="{DynamicResource ChangeLanguageTooltip}"
                Click="LanguageButton_Click">
            <TextBlock x:Name="LanguageIcon" Text="🌐" FontSize="18" Foreground="White"
                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
        </Button>

        <Popup x:Name="LanguagePopup" PlacementTarget="{Binding ElementName=LanguageButton}"
               Placement="Bottom" StaysOpen="False" AllowsTransparency="True">
            <Border Background="{DynamicResource CardBrush}" 
                    BorderBrush="{DynamicResource BorderBrush}" 
                    BorderThickness="1" CornerRadius="8"
                    Width="150" Effect="{DynamicResource MaterialShadow}">
                <StackPanel>
                    <Button Content="{DynamicResource English}" Style="{StaticResource MenuButtonStyle}" Foreground="{DynamicResource TextBrush}" FontSize="14" Margin="0, 4, 0, 4" Click="English_Click"/>
                    <Button Content="{DynamicResource Serbian}" Style="{StaticResource MenuButtonStyle}" Foreground="{DynamicResource TextBrush}" FontSize="14" Margin="0, 4, 0, 4" Click="Serbian_Click"/>
                </StackPanel>
            </Border>
        </Popup>
    </StackPanel>
</UserControl>
    
    
