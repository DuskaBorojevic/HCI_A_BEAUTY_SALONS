<UserControl x:Class="HCI_A.Controls.InvoicesControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             FontFamily="{DynamicResource DefaultFont}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" 
                Background="{DynamicResource SecondaryLightBrush2}"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="1"
                CornerRadius="12,12,0,0"
                Padding="20,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="🧾" FontSize="24" VerticalAlignment="Center" Margin="0,0,10,0" Foreground="{DynamicResource PrimaryBrush}"/>
                    <StackPanel>
                        <TextBlock x:Name="HeaderTitle" 
                                  Text="{DynamicResource InvoicesOverview}" 
                                  FontSize="18" 
                                  FontWeight="Bold" 
                                  Foreground="{DynamicResource PrimaryBrush}"/>
                        <TextBlock x:Name="HeaderSubtitle" 
                                  FontSize="12" 
                                  Foreground="{DynamicResource TextSecondaryBrush}"/>
                    </StackPanel>
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="0,0,15,0">
                    <TextBlock Text="Status:" 
                              VerticalAlignment="Center" 
                              Margin="0,0,5,0"
                              Foreground="{DynamicResource TextSecondaryBrush}"/>
                    <ComboBox x:Name="StatusFilterCombo" 
          MinWidth="120"
          Height="30"
          VerticalContentAlignment="Center"
          Padding="5,0"
          SelectionChanged="StatusFilter_Changed"/>
                </StackPanel>

                <Button Grid.Column="2" 
                        Content="{DynamicResource Refresh}" 
                        Style="{DynamicResource PrimaryTextButton}"
                        Click="RefreshInvoices_Click"/>
            </Grid>
        </Border>

        <Border Grid.Row="1" 
                Background="{DynamicResource BackgroundBrush}"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="1,0,1,1"
                CornerRadius="0,0,12,12">

            <ScrollViewer x:Name="InvoicesScrollViewer" 
                         VerticalScrollBarVisibility="Auto"
                         Padding="20">
                <StackPanel x:Name="InvoicesPanel"/>
            </ScrollViewer>
        </Border>

        <Grid x:Name="LoadingGrid" 
              Grid.Row="1" 
              Background="{DynamicResource BackgroundBrush}"
              Visibility="Collapsed">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Text="⏳" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                <TextBlock Text="{DynamicResource Loading}" 
                          FontSize="16" 
                          Foreground="{DynamicResource TextSecondaryBrush}"
                          HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>

        <Grid x:Name="NoInvoicesGrid" 
              Grid.Row="1" 
              Background="{DynamicResource BackgroundBrush}"
              Visibility="Collapsed">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Text="📄" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                <TextBlock Text="{DynamicResource NoInvoicesFound}" 
                          FontSize="18" 
                          FontWeight="SemiBold"
                          Foreground="{DynamicResource PrimaryBrush}"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,5"/>
                <TextBlock Text="{DynamicResource NoInvoiceDescription}" 
                          FontSize="14" 
                          Foreground="{DynamicResource TextSecondaryBrush}"
                          HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>
